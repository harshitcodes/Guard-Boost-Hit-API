# Dragon-Ball-Z-API
Dragon Ball Z Game google cloud endpoints API
In this project I've used the udacity's scalable apps with python to develop my own game! This is an API with endpoints which allows anyone to develop a front-end for this game. Since I ain't required to write a front-end I have used APIs explorer to test my API.

## Set up Instructions:
1. Update the value of application in app.yaml to the app ID you have registered in the App Engine admin console and would like to use to host your instance of this sample.

2. Run the app with the devserver using dev_appserver.py DIR, and ensure it's running by visiting the API Explorer - by default localhost:8080/_ah/api/explorer.

3. The deployed Dragon Ball Z API can be accessed via [Dragon Ball Z API](https://v1-dot-design-a-game-api.appspot.com/_ah/api/explorer)

## Game Description:

Dragon Ball Z is the game in which the user plays against an AI Player and both the players have got the same 3 moves to play namely ```Guard```, ```Boost``` and ```Hit``` with some rules bind on them.
This is a war game so,
  * hit beats boost
  * boost beats guard
  * guard beats hit
This game can be played by using the ```urlsafe_game_key```.

## Files included:
* api.py: Contains endpoints and game playing logic.
* app.yaml: App configuration.
* cron.yaml: Cronjob configuration.
* index.yaml: This file is uploaded with the application to create indexes in the datastore.(Autogenerated)
* main.py: Handler for taskqueue handler.
* models.py: Entity and message definitions including helper methods.
* utils.py: Helper function for retrieving ndb.Models by urlsafe Key string.

## Endpoints Included:
* ####create_user
  * Path: 'user'
  * Method: ```POST```
  * Parameters: ```username```, ```email```
  * Returns: Message confirming creation of the User.
  * Description: Creates a new ```User```. ```username``` provided must be unique. Will raise a ConflictException if a  User with that user_name already exists.

* ####get_user
  * Path: 'get_user'
  * Method: ```GET```
  * Parameters: ```username```
  * Returns: ```UserForm``` with all the entered info in respective fields as per the username entered.
  * Description: Returns data about the user corresponding to the username found in the game datastore.

* ####get_users
  * Path: 'users'
  * Method: ```GET```
  * Parameters: None
  * Returns: ```UserForm``` object of each and every user in the game datastore.
  * Description: Returns data about each user found in the game datastore.

* ####new_game
  * Path: 'game'
  * Method: ```POST```
  * Parameters: ```username```
  * Returns: ```GameForm``` with the all the initiated status fields and data.
  * Description: Creates a new game with the corresponding username.

* ####get_game
  * Path: 'game/{urlsafe_game_key}'
  * Method: ```GET```
  * Parameters: ```urlsafe_game_key```
  * Returns: ```GameForm``` with the game state and data.
  * Description:  Returns the current game state and data. Will raise a ```NotFoundException``` if a game is not found corresponding to the key provided.

* ####quit_game
  * Path: 'game/{urlsafe_game_key}/quit'
  * Method: ```PUT```
  * Paramters: ```urlsafe_game_key```
  * Returns: ```GameForm``` with the cancelled field active and data.
  * Description: Returns the current game state and data of newly quit game. Will raise exceptions if there is an anomaly, ```conflicts``` or ```NotFound```

* ####make_move
  * Path: 'game/{urlsafe_game_key}'
  * Method: ```PUT```
  * Paramters: ```urlsafe_game_key```, ```play```
  * Returns: ```GameForm``` with the updated status and data.
  * Description: Returns the current game state and data of newly move in the game. Will raise exceptions if there is an anomaly, ```conflicts``` or ```NotFound```

* ####get_games
  *Path: 'games'
  * Method: ```GET```
  * Parameters: None
  * Returns: ```GameForms``` returning all the games.
  * Description: Returns all games in the database as GameForm objects, ordered by most recent game date.

* ####get_user_games
  * Path: 'user_games'
  * Method: ```GET```
  * Parameters: ```username```
  * Returns: ```GameForms``` objects of the corresponding username.
  * Description: Returns all active (unfinished) games as ```GameForm``` objects for the specified user.

* ####get_high_scores
  * Path: 'scores'
  * Method: ```GET```
  * Parameters: None
  * Returns: ```UserScoreForms``` for all the ```UserScoreForm```
  * Description: Returns all the UserScoreForm in the game datastore.

* ####get_user_rankings
  * Path: 'user_rankings'
  * Method: ```GET```
  * Parameters: None
  * Returns: ```UserRankForms``` for all the ```UserRankForm```
  * Description: Returns all the UserRankForm in the game datastore.

* ####get_game_history
  * Path: 'game/{urlsafe_game_key}/history'
  * Method: ```GET```
  * Parameters: None
  * Returns: ```GameHistoryForm``` of the specified game in the ```urlsafe_game_key```
  * Description: Returns the entire list of moves played in the game.

## Models Included

*####User
  * Stores unique username and email address.

* ####Game
  * Stores unique game states. Associated with User model via KeyProperty.

* ####Move
  * Stores the information about the move played in the game by the user and ai player.

## Forms Included:

* ####GameForm
  * Representation of a Game's state (urlsafe_key, user_play, ai_play, game_over flag, message, username, won, cancelled(quit)).

* ####Game Forms
  * Multiple game forms for giving all the games.

* ####NewGameForm
  * Used to create a new game (username)

* ####GameHistoryForm
  * Status fields for the Game's history of moves (moves).

* ####MakePlayForm
  * play Stringfield for making a move(play).

* ####UserForm
  * Representation of a User (username, email).

* ####UserForms
  * Multiple UserForm container.

* ####UserRankForm
  * Representation of a User with ranking (username, total_games, wins, win_ratio)

* ####UserRankingForms
  * Multiple UserRankingForm container.

* ####UserScoreForm
  * Representation of a User with score (win_streak) information (username, score)

* ####UserScoreForms
  * Multiple UserScoreForm container.

* ####StringMessage
  * General String container for messages.






